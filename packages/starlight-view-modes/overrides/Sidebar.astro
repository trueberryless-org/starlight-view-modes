---
import type { Props } from '../props';
import MobileMenuFooter from 'virtual:starlight/components/MobileMenuFooter';
import SidebarSublist from '../components/SidebarSublist.astro';
import { Icon } from '@astrojs/starlight/components';
const { sidebar } = Astro.props;


---
<style>
	.toggle-main-side-bar-btn{
		cursor: pointer;
		border: 1px solid grey;
		display: inline-flex;
		justify-content: center;
		align-items:center;
		align-self: flex-end
	}

	.rotate-180 {
		transform: rotate(180deg);
	}
</style>
<script>
  import config from "virtual:starlight-view-modes-config";

	if(config.leftSidebarEnabled === false){
		let mainSideBarIcon = document.querySelector(".toggle-main-side-bar-btn") as HTMLElement;
		mainSideBarIcon.style.display = "none";
	}
</script>

<!-- tailwind doesnt work here -->
<!-- <div class="toggle-main-side-bar-btn cursor-pointer border border-neutral-500 inline-flex flex-row justify-center items-center w-4 self-end"> -->
<div class="toggle-main-side-bar-btn">
	<Icon name='right-caret' class='rotate-180'/>
</div>
<SidebarSublist sublist={sidebar} />
<slot />
<div class="md:sl-hidden">
	<MobileMenuFooter {...Astro.props} />
</div>

