---
import ViewModeSwitcher from "../ViewModeSwitcher.astro";

const { entry } = Astro.locals.starlightRoute;
const isTemplateSplash = entry.data.template === "splash";

if (isTemplateSplash) return;
---

<div class="starlight-view-modes-page-title-switcher">
  <ViewModeSwitcher type="social-links" />
</div>

<style>
  .starlight-view-modes-page-title-switcher {
    display: none;
    grid-column: 2;
    justify-self: end;
  }
  body:has(.starlight-view-modes-zen-mode-no-header):has(
      .starlight-view-modes-zen-mode-no-table-of-contents
    )
    .starlight-view-modes-page-title-switcher {
    display: block !important;
  }
</style>

<style is:global>
  body:has(.starlight-view-modes-zen-mode-no-header):has(
      .starlight-view-modes-zen-mode-no-table-of-contents
    )
    .sl-container:has(.starlight-view-modes-page-title-switcher) {
    display: grid;
    grid-template-columns: 1fr 2rem; /* 1rem icon width + 1rem margin */
    align-items: center;
  }
</style>
