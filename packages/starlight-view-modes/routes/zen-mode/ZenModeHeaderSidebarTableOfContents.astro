---
import StarlightPage from '@astrojs/starlight/components/StarlightPage.astro'

import { getCollection } from 'astro:content';
export async function getStaticPaths() {
  const allDocs = await getCollection('docs');
  return allDocs.map((doc) => ({
    params: { path: doc.slug },
    props: { doc },
  }));
}

export const prerender = true

const { doc } = Astro.props;
const { Content, headings, remarkPluginFrontmatter } = await doc.render();

const { hasSidebar } = remarkPluginFrontmatter
---

<StarlightPage frontmatter={ remarkPluginFrontmatter } headings={headings} {hasSidebar} >
    <Content />
</StarlightPage>

<style is:global>
footer {
  display: none;
}
</style>